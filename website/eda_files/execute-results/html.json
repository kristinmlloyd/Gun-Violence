{
  "hash": "9c517916cfd3fca185874bd01b8b5c6b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Binary Vals\nauthor: “Kristin Lloyd”\nformat:\n  html:\n    css: styles.css\n    embed-resources: true\n    code-fold: true\n---\n\n\n\n\n::: {#b2ec6909 .cell fig-height='2' fig-width='2' execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Load data\nmerged_data = pd.read_csv(\"data/merged_data.csv\")\n\n# Define bins and labels for firearm mortality\nbins = [0, 10, 15, 20, 25, merged_data['firearm_mortality_by_state_2022'].max()]\nlabels = [\"Very Low\", \"Low\", \"Moderate\", \"High\", \"Very High\"]\n\n# Categorize firearm mortality rates\nmerged_data['mortality_category'] = pd.cut(\n    merged_data['firearm_mortality_by_state_2022'], bins=bins, labels=labels\n)\n\n# Define custom color palette\npalette = {\n    \"Very Low\": \"#1c7416\", \n    \"Low\": \"#68bb59\", \n    \"Moderate\": \"#fab733\", \n    \"High\": \"#ff0000\", \n    \"Very High\": \"#c61a09\"\n}\n\n# Create box plot\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='drug_overdose_mortality_rate', \n    palette=palette\n)\n\n# Format plot to match the reference image\nplt.title(\"Drug Overdose Mortality Rate by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Drug Overdose Mortality Rate (per 100,000)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2790066865.py:28: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-2-output-2.png){width=810 height=570}\n:::\n:::\n\n\n::: {#96251758 .cell fig-height='2' fig-width='2' execution_count=2}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='state_ranking_in_mental_health_in_adults', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"State Ranking in Mental Health in Adults by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"State Ranking in Mental Health (Lower is Better)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2925012457.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-3-output-2.png){width=810 height=570}\n:::\n:::\n\n\n::: {#ddd8310d .cell fig-height='4' fig-width='6' execution_count=3}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='domestic_violence_shelters', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Number of Domestic Violence Shelters by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Domestic Violence Shelters\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/565574178.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-4-output-2.png){width=819 height=570}\n:::\n:::\n\n\n::: {#84886a7f .cell fig-height='4' fig-width='6' execution_count=4}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='unemployment_rate', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Unemployment Rate by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Unemployment Rate (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/666588960.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-5-output-2.png){width=815 height=570}\n:::\n:::\n\n\n::: {#35d4b453 .cell execution_count=5}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='labor_participation_women_percentage', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Labor Participation of Women by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Labor Participation of Women (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/4226980556.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-6-output-2.png){width=823 height=570}\n:::\n:::\n\n\n::: {#dafa3726 .cell execution_count=6}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='missing_person_by_state', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Number of Missing Persons by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Missing Persons\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2250685414.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-7-output-2.png){width=810 height=570}\n:::\n:::\n\n\n::: {#5b3f7aa4 .cell execution_count=7}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='gun_ownership_rates_per_state', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Gun Ownership Rates by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Gun Ownership Rate (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/4035193299.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-8-output-2.png){width=810 height=570}\n:::\n:::\n\n\n::: {#c9729e1c .cell execution_count=8}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='suicide_by_firearms', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Suicides by Firearms by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Suicides by Firearms\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2903196679.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-9-output-2.png){width=823 height=570}\n:::\n:::\n\n\n::: {#5148bf4c .cell execution_count=9}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='firearm_mortality_rate_children_one_to_nine_years_old', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rate (Ages 1-9) by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Firearm Mortality Rate (Ages 1-9) per 100,000\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/422796669.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-10-output-2.png){width=810 height=570}\n:::\n:::\n\n\n::: {#4a70b292 .cell execution_count=10}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='dv_people_to_shelter', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Domestic Violence Survivors per Shelter by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"DV Survivors per Shelter\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/176810535.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-11-output-2.png){width=849 height=570}\n:::\n:::\n\n\n::: {#57d31b59 .cell execution_count=11}\n``` {.python .cell-code}\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='dv_spending_per_person', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Domestic Violence Spending per Person by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"DV Spending per Person (USD)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1832011546.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-12-output-2.png){width=819 height=570}\n:::\n:::\n\n\n\n\n::: {#4161337f .cell execution_count=12}\n``` {.python .cell-code}\nprint(merged_data.columns)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nIndex(['State', 'drug_overdose_mortality_rate', 'total_abortion_ban',\n       'abortion_protectiveness', 'access_to_mental_health_care_ranking',\n       'state_ranking_in_mental_health_in_youth',\n       'state_ranking_in_mental_health_in_adults',\n       'domestic_violence_shelters', 'dv_people_to_shelter', 'population',\n       'dv_spending_per_person', 'domestic_violence_spending_by_state',\n       'unemployment_rate', 'labor_participation_women_percentage',\n       'prohibition_for_stalkers', 'abusers_turn_in_gun_after_conviction',\n       'prohibition_for_domestic_abusers',\n       'prohibition_for_convicted_domestic_abusers', 'waiting_period',\n       'mental_health_in_background_check',\n       'funding_for_violence_intervention',\n       'no_purchase_after_violent_offense', 'age_requirement',\n       'mentaI_illness_prohibitor', 'hate_crime_prohibitor',\n       'gun_removal_program', 'fugitive_from_justice_prohibitor',\n       'felony prohibitor', 'restraining_order_prohibitor', 'no_open_carry',\n       'no_guns_in_k_through_twelve_schools', 'no_guns_at_demonstrations',\n       'no_guns_on_college_campuses',\n       'bar_concealed_carry_by_people_with_violent_misdemeanors',\n       'high_capacity_magazines_prohibited', 'dealer_lisence_required',\n       'asault_weapons_prohibited', 'secure_storage_child_access_laws',\n       'rejected_shoot_first_laws', 'red_flag_laws',\n       'background_check_or_purchase_permit',\n       'concealed_carry_permit_required', 'extreme_risk_law',\n       'school_shootings', 'missing_person_by_state',\n       'gun_ownership_rates_per_state', 'suicide_by_firearms',\n       'firearm_mortality_by_state_2022', 'school_shootings_by_state_2024',\n       'firearm_mortality_rate_children_one_to_nine_years_old',\n       'mortality_category'],\n      dtype='object')\n```\n:::\n:::\n\n\n::: {#207308ce .cell execution_count=13}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\npalette = {\n    \"Very Low\": \"#1c7416\", \n    \"Low\": \"#68bb59\", \n    \"Moderate\": \"#fab733\", \n    \"High\": \"#ff0000\", \n    \"Very High\": \"#c61a09\"\n}\n\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_stalkers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Stalkers Policy\", fontsize=14)\nplt.xlabel(\"Prohibition for Stalkers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3876184127.py:28: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-14-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#d80830a2 .cell execution_count=14}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"abusers_turn_in_gun_after_conviction\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"abusers_turn_in_gun_after_conviction\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Gun Surrender Requirement for Abusers\", fontsize=14)\nplt.xlabel(\"Gun Surrender Policy for Convicted Abusers\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3048638824.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-15-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#92c24144 .cell execution_count=15}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"prohibition_for_domestic_abusers\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_domestic_abusers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Domestic Abusers\", fontsize=14)\nplt.xlabel(\"Prohibition for Domestic Abusers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3934125866.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-16-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#399b6184 .cell execution_count=16}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"prohibition_for_convicted_domestic_abusers\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_convicted_domestic_abusers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Convicted Domestic Abusers\", fontsize=14)\nplt.xlabel(\"Prohibition for Convicted Domestic Abusers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3839386420.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-17-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#bb7e5422 .cell execution_count=17}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"waiting_period\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"waiting_period\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Waiting Period Policy\", fontsize=14)\nplt.xlabel(\"Waiting Period Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1822672756.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-18-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#39c18613 .cell execution_count=18}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"mental_health_in_background_check\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"mental_health_in_background_check\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Mental Health in Background Check Policy\", fontsize=14)\nplt.xlabel(\"Mental Health in Background Check Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/106397173.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-19-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#d925b1ee .cell execution_count=19}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"funding_for_violence_intervention\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"funding_for_violence_intervention\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Funding for Violence Intervention\", fontsize=14)\nplt.xlabel(\"Funding for Violence Intervention Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2652022068.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-20-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#58b8e2b6 .cell execution_count=20}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"no_purchase_after_violent_offense\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_purchase_after_violent_offense\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Purchase After Violent Offense Policy\", fontsize=14)\nplt.xlabel(\"No Purchase After Violent Offense Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2321388789.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-21-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#e0e63d53 .cell execution_count=21}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"age_requirement\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"age_requirement\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Age Requirement Policy\", fontsize=14)\nplt.xlabel(\"Age Requirement Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1506350671.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-22-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#9b5bcc9d .cell execution_count=22}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"mental_illness_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"mentaI_illness_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Mental Illness Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Mental Illness Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1773839626.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-23-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#076408e6 .cell execution_count=23}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"hate_crime_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"hate_crime_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Hate Crime Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Hate Crime Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/122475679.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-24-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#91409a78 .cell execution_count=24}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"gun_removal_program\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"gun_removal_program\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Gun Removal Program Policy\", fontsize=14)\nplt.xlabel(\"Gun Removal Program Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3174775299.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-25-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#d786ad48 .cell execution_count=25}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"fugitive_from_justice_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"fugitive_from_justice_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Fugitive from Justice Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Fugitive from Justice Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1739788362.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-26-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#40f59bc8 .cell execution_count=26}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"felony_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"felony prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Felony Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Felony Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2930775315.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-27-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#66cdfa09 .cell execution_count=27}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"restraining_order_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"restraining_order_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Restraining Order Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Restraining Order Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1187753872.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-28-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#fa8061fc .cell execution_count=28}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"no_open_carry\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_open_carry\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Open Carry Policy\", fontsize=14)\nplt.xlabel(\"No Open Carry Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2415890846.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-29-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#8bf2d364 .cell execution_count=29}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"no_guns_in_k_through_twelve_schools\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_in_k_through_twelve_schools\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns in K-12 Schools Policy\", fontsize=14)\nplt.xlabel(\"No Guns in K-12 Schools Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1104769495.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-30-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#056dde70 .cell execution_count=30}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"no_guns_at_demonstrations\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_at_demonstrations\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns at Demonstrations Policy\", fontsize=14)\nplt.xlabel(\"No Guns at Demonstrations Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/85363419.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-31-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#ad85b193 .cell execution_count=31}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"no_guns_on_college_campuses\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_on_college_campuses\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns on College Campuses Policy\", fontsize=14)\nplt.xlabel(\"No Guns on College Campuses Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/738760413.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-32-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#bc9162e8 .cell execution_count=32}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"bar_concealed_carry_by_people_with_violent_misdemeanors\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"bar_concealed_carry_by_people_with_violent_misdemeanors\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Concealed Carry Ban for People with Violent Misdemeanors\", fontsize=14)\nplt.xlabel(\"Ban on Concealed Carry for People with Violent Misdemeanors\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3479549589.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-33-output-2.png){width=846 height=528}\n:::\n:::\n\n\n::: {#4fc85367 .cell execution_count=33}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"high_capacity_magazines_prohibited\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"high_capacity_magazines_prohibited\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by High-Capacity Magazine Prohibition Policy\", fontsize=14)\nplt.xlabel(\"High-Capacity Magazines Prohibited Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1754383729.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-34-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#3a6fdca2 .cell execution_count=34}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"dealer_license_required\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"dealer_lisence_required\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Dealer License Requirement Policy\", fontsize=14)\nplt.xlabel(\"Dealer License Required Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/1598828547.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-35-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#2e3cc21c .cell execution_count=35}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"assault_weapons_prohibited\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"asault_weapons_prohibited\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Assault Weapons Prohibition Policy\", fontsize=14)\nplt.xlabel(\"Assault Weapons Prohibited Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/4042303800.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-36-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#825a26f5 .cell execution_count=36}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"secure_storage_child_access_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"secure_storage_child_access_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Secure Storage & Child Access Laws\", fontsize=14)\nplt.xlabel(\"Secure Storage & Child Access Laws\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3415678296.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-37-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#ea263913 .cell execution_count=37}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"rejected_shoot_first_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"rejected_shoot_first_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Rejected Shoot First Laws\", fontsize=14)\nplt.xlabel(\"Rejected Shoot First Laws Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/234866186.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-38-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#96ccbfee .cell execution_count=38}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"red_flag_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"red_flag_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Red Flag Laws\", fontsize=14)\nplt.xlabel(\"Red Flag Laws Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2769732189.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-39-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#b87bbc5a .cell execution_count=39}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"background_check_or_purchase_permit\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"background_check_or_purchase_permit\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Background Check or Purchase Permit Policy\", fontsize=14)\nplt.xlabel(\"Background Check or Purchase Permit Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2676269926.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-40-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#5c03f335 .cell execution_count=40}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"concealed_carry_permit_required\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"concealed_carry_permit_required\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Concealed Carry Permit Requirement Policy\", fontsize=14)\nplt.xlabel(\"Concealed Carry Permit Required Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/3001951385.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-41-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#ec1a4994 .cell execution_count=41}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"extreme_risk_law\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"extreme_risk_law\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Extreme Risk Law Policy\", fontsize=14)\nplt.xlabel(\"Extreme Risk Law Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/451092298.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-42-output-2.png){width=815 height=528}\n:::\n:::\n\n\n::: {#9f8be474 .cell execution_count=42}\n``` {.python .cell-code}\n# Create the stacked bar plot for \"total_abortion_ban\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"total_abortion_ban\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Total Abortion Ban Policy\", fontsize=14)\nplt.xlabel(\"Total Abortion Ban Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_40858/2161908046.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](eda_files/figure-html/cell-43-output-2.png){width=815 height=528}\n:::\n:::\n\n\n",
    "supporting": [
      "eda_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}