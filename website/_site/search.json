[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "data-cleaning/data-merging.html",
    "href": "data-cleaning/data-merging.html",
    "title": "Data Merging",
    "section": "",
    "text": "Code\nimport pandas as pd\n\n# Load the CSV files\nfactors = pd.read_csv(\"../data/factors.csv\")\npolicy = pd.read_csv(\"../data/policy.csv\")\nviolence = pd.read_csv(\"../data/violence.csv\")\n\n# Perform an outer merge on 'State'\nmerged_data = factors.merge(policy, on=\"State\", how=\"outer\").merge(violence, on=\"State\", how=\"outer\")\n\n# Save the merged file\nmerged_data.to_csv(\"../data/merged_data.csv\", index=False)\n\nprint(\"Data merged and saved successfully!\")\n\n\nData merged and saved successfully!"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "website",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "index1.html",
    "href": "index1.html",
    "title": "guns",
    "section": "",
    "text": "The bar char and map below visualize the distribution of the firearm morality rate across the country.\n\n\nCode\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Load data\ngun_deaths = pd.read_csv(\"data/merged_data.csv\")\n\n# Define bins and labels\nbins = [0, 10, 15, 20, 25, float('inf')]\nlabels = [\"Very Low\", \"Low\", \"Moderate\", \"High\", \"Very High\"]  # Fixed the syntax error\n\n# Assign bins, ensuring no overlap (excluding the right endpoint)\ngun_deaths['mortality_bin'] = pd.cut(\n    gun_deaths['firearm_mortality_by_state_2022'], bins=bins, labels=labels, right=False\n)\n\n# Count states in each bin\ngun_death_distribution = gun_deaths['mortality_bin'].value_counts().sort_index().reset_index()\ngun_death_distribution.columns = ['mortality_bin', 'State_Count']\n\n# Define colors\ncolors = {\n    \"Very Low\": \"#68bb59\",\n    \"Low\": \"#acdf87\",\n    \"Moderate\": \"#fab733\",\n    \"High\": \"#ff6242\",\n    \"Very High\": \"#c61a09\"\n}\n\n# Plot\ntitle = \"Firearm Mortality by State (2022)\"\nsubtitle = \"Number of states in each mortality range\"\nplt.figure(figsize=(7, 4))  # Slightly increased width for better spacing\nax = sns.barplot(\n    y='mortality_bin', x='State_Count', data=gun_death_distribution,\n    order=labels, palette=colors, edgecolor='black', linewidth=.8  # Increased border width\n)\n\n# Add labels right outside the bars with better spacing\nfor index, value in enumerate(gun_death_distribution['State_Count']):\n    ax.text(value + 0.8, index, str(value), va='center', ha='left', fontsize=12, color='black')\n\nplt.title(f\"{title}\\n{subtitle}\", fontsize=12, weight='normal')  # Unbolded title, smaller font\nplt.xlabel(\"\")\nplt.ylabel(\"\")\nplt.xticks([])\nplt.grid(axis='x', linestyle=\"--\", alpha=0.7)\nplt.xlim(0, gun_death_distribution['State_Count'].max() + 5)  # Added padding to the x-axis\nplt.show()\n\n\n\n\n\n\n\n\n\nThis plot indicates that there are many more restrictive states than protective states, with a total of 27 states having restrictive policies compared to 18 states with protective policies. This imbalance is particularly evident in the ‘most restrictive’ category, which alone accounts for 16 states.\n\n\nCode\nimport pandas as pd\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\nfrom matplotlib.colors import LinearSegmentedColormap\n\n# Load dataset\ngun_deaths = pd.read_csv(\"data/merged_data.csv\")\n\n# Ensure state names are lowercase for merging\ngun_deaths[\"State\"] = gun_deaths[\"State\"].str.lower()\n\n# Define mortality bins and labels\nmortality_bins = [0, 10, 15, 20, 25, float(\"inf\")]\nmortality_labels = [1, 2, 3, 4, 5]\n\n# Assign states into mortality categories\ngun_deaths[\"mortality_score\"] = pd.cut(\n    gun_deaths[\"firearm_mortality_by_state_2022\"], \n    bins=mortality_bins, \n    labels=mortality_labels,\n    right=False\n).astype(float)\n\n# Load U.S. state shapefile from Census Bureau\nstates_url = \"https://www2.census.gov/geo/tiger/GENZ2018/shp/cb_2018_us_state_20m.zip\"\nstates_map = gpd.read_file(states_url)\n\n# Ensure lowercase for merging\nstates_map[\"region\"] = states_map[\"NAME\"].str.lower()\n\n# Merge state map with gun deaths data\nmap_data = states_map.merge(gun_deaths, left_on=\"region\", right_on=\"State\", how=\"left\")\n\n# Define color map\ncolors = [\"#68bb59\", \"#acdf87\", \"#fab733\", \"#ff6242\", \"#c61a09\"]\ncmap = LinearSegmentedColormap.from_list(\"custom_cmap\", colors)\n\n# Plot Gun Deaths by State\nfig, ax = plt.subplots(figsize=(16, 10))\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"3%\", pad=0.2)\n\n# Plot states\nmap_data.plot(column=\"mortality_score\", cmap=cmap, linewidth=0.3, edgecolor=\"black\", ax=ax, legend=True, cax=cax)\n\n# Customize plot\nax.set_title(\"Firearm Mortality by State (2022)\", fontsize=18)\nax.set_xticks([])\nax.set_yticks([])\nax.set_frame_on(False)\n\nplt.show()"
  },
  {
    "objectID": "index1.html#problem-objectives",
    "href": "index1.html#problem-objectives",
    "title": "guns",
    "section": "",
    "text": "The bar char and map below visualize the distribution of the firearm morality rate across the country.\n\n\nCode\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Load data\ngun_deaths = pd.read_csv(\"data/merged_data.csv\")\n\n# Define bins and labels\nbins = [0, 10, 15, 20, 25, float('inf')]\nlabels = [\"Very Low\", \"Low\", \"Moderate\", \"High\", \"Very High\"]  # Fixed the syntax error\n\n# Assign bins, ensuring no overlap (excluding the right endpoint)\ngun_deaths['mortality_bin'] = pd.cut(\n    gun_deaths['firearm_mortality_by_state_2022'], bins=bins, labels=labels, right=False\n)\n\n# Count states in each bin\ngun_death_distribution = gun_deaths['mortality_bin'].value_counts().sort_index().reset_index()\ngun_death_distribution.columns = ['mortality_bin', 'State_Count']\n\n# Define colors\ncolors = {\n    \"Very Low\": \"#68bb59\",\n    \"Low\": \"#acdf87\",\n    \"Moderate\": \"#fab733\",\n    \"High\": \"#ff6242\",\n    \"Very High\": \"#c61a09\"\n}\n\n# Plot\ntitle = \"Firearm Mortality by State (2022)\"\nsubtitle = \"Number of states in each mortality range\"\nplt.figure(figsize=(7, 4))  # Slightly increased width for better spacing\nax = sns.barplot(\n    y='mortality_bin', x='State_Count', data=gun_death_distribution,\n    order=labels, palette=colors, edgecolor='black', linewidth=.8  # Increased border width\n)\n\n# Add labels right outside the bars with better spacing\nfor index, value in enumerate(gun_death_distribution['State_Count']):\n    ax.text(value + 0.8, index, str(value), va='center', ha='left', fontsize=12, color='black')\n\nplt.title(f\"{title}\\n{subtitle}\", fontsize=12, weight='normal')  # Unbolded title, smaller font\nplt.xlabel(\"\")\nplt.ylabel(\"\")\nplt.xticks([])\nplt.grid(axis='x', linestyle=\"--\", alpha=0.7)\nplt.xlim(0, gun_death_distribution['State_Count'].max() + 5)  # Added padding to the x-axis\nplt.show()\n\n\n\n\n\n\n\n\n\nThis plot indicates that there are many more restrictive states than protective states, with a total of 27 states having restrictive policies compared to 18 states with protective policies. This imbalance is particularly evident in the ‘most restrictive’ category, which alone accounts for 16 states.\n\n\nCode\nimport pandas as pd\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\nfrom matplotlib.colors import LinearSegmentedColormap\n\n# Load dataset\ngun_deaths = pd.read_csv(\"data/merged_data.csv\")\n\n# Ensure state names are lowercase for merging\ngun_deaths[\"State\"] = gun_deaths[\"State\"].str.lower()\n\n# Define mortality bins and labels\nmortality_bins = [0, 10, 15, 20, 25, float(\"inf\")]\nmortality_labels = [1, 2, 3, 4, 5]\n\n# Assign states into mortality categories\ngun_deaths[\"mortality_score\"] = pd.cut(\n    gun_deaths[\"firearm_mortality_by_state_2022\"], \n    bins=mortality_bins, \n    labels=mortality_labels,\n    right=False\n).astype(float)\n\n# Load U.S. state shapefile from Census Bureau\nstates_url = \"https://www2.census.gov/geo/tiger/GENZ2018/shp/cb_2018_us_state_20m.zip\"\nstates_map = gpd.read_file(states_url)\n\n# Ensure lowercase for merging\nstates_map[\"region\"] = states_map[\"NAME\"].str.lower()\n\n# Merge state map with gun deaths data\nmap_data = states_map.merge(gun_deaths, left_on=\"region\", right_on=\"State\", how=\"left\")\n\n# Define color map\ncolors = [\"#68bb59\", \"#acdf87\", \"#fab733\", \"#ff6242\", \"#c61a09\"]\ncmap = LinearSegmentedColormap.from_list(\"custom_cmap\", colors)\n\n# Plot Gun Deaths by State\nfig, ax = plt.subplots(figsize=(16, 10))\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(\"right\", size=\"3%\", pad=0.2)\n\n# Plot states\nmap_data.plot(column=\"mortality_score\", cmap=cmap, linewidth=0.3, edgecolor=\"black\", ax=ax, legend=True, cax=cax)\n\n# Customize plot\nax.set_title(\"Firearm Mortality by State (2022)\", fontsize=18)\nax.set_xticks([])\nax.set_yticks([])\nax.set_frame_on(False)\n\nplt.show()"
  },
  {
    "objectID": "eda/eda.html",
    "href": "eda/eda.html",
    "title": "Binary Vals",
    "section": "",
    "text": "Code\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Load data\nmerged_data = pd.read_csv(\"../data/merged_data.csv\")\n\n# Define bins and labels for firearm mortality\nbins = [0, 10, 15, 20, 25, merged_data['firearm_mortality_by_state_2022'].max()]\nlabels = [\"Very Low\", \"Low\", \"Moderate\", \"High\", \"Very High\"]\n\n# Categorize firearm mortality rates\nmerged_data['mortality_category'] = pd.cut(\n    merged_data['firearm_mortality_by_state_2022'], bins=bins, labels=labels\n)\n\n# Define custom color palette\npalette = {\n    \"Very Low\": \"#1c7416\", \n    \"Low\": \"#68bb59\", \n    \"Moderate\": \"#fab733\", \n    \"High\": \"#ff0000\", \n    \"Very High\": \"#c61a09\"\n}\n\n# Create box plot\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='drug_overdose_mortality_rate', \n    palette=palette\n)\n\n# Format plot to match the reference image\nplt.title(\"Drug Overdose Mortality Rate by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Drug Overdose Mortality Rate (per 100,000)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1811605847.py:28: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='state_ranking_in_mental_health_in_adults', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"State Ranking in Mental Health in Adults by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"State Ranking in Mental Health (Lower is Better)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2925012457.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='domestic_violence_shelters', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Number of Domestic Violence Shelters by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Domestic Violence Shelters\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/565574178.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='unemployment_rate', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Unemployment Rate by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Unemployment Rate (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/666588960.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='labor_participation_women_percentage', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Labor Participation of Women by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Labor Participation of Women (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/4226980556.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='missing_person_by_state', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Number of Missing Persons by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Missing Persons\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2250685414.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='gun_ownership_rates_per_state', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Gun Ownership Rates by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Gun Ownership Rate (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/4035193299.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='suicide_by_firearms', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Suicides by Firearms by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Suicides by Firearms\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2903196679.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='firearm_mortality_rate_children_one_to_nine_years_old', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rate (Ages 1-9) by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Firearm Mortality Rate (Ages 1-9) per 100,000\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/422796669.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='dv_people_to_shelter', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Domestic Violence Survivors per Shelter by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"DV Survivors per Shelter\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/176810535.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='dv_spending_per_person', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Domestic Violence Spending per Person by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"DV Spending per Person (USD)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1832011546.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nprint(merged_data.columns)\n\n\nIndex(['State', 'drug_overdose_mortality_rate', 'total_abortion_ban',\n       'abortion_protectiveness', 'access_to_mental_health_care_ranking',\n       'state_ranking_in_mental_health_in_youth',\n       'state_ranking_in_mental_health_in_adults',\n       'domestic_violence_shelters', 'dv_people_to_shelter', 'population',\n       'dv_spending_per_person', 'domestic_violence_spending_by_state',\n       'unemployment_rate', 'labor_participation_women_percentage',\n       'prohibition_for_stalkers', 'abusers_turn_in_gun_after_conviction',\n       'prohibition_for_domestic_abusers',\n       'prohibition_for_convicted_domestic_abusers', 'waiting_period',\n       'mental_health_in_background_check',\n       'funding_for_violence_intervention',\n       'no_purchase_after_violent_offense', 'age_requirement',\n       'mentaI_illness_prohibitor', 'hate_crime_prohibitor',\n       'gun_removal_program', 'fugitive_from_justice_prohibitor',\n       'felony prohibitor', 'restraining_order_prohibitor', 'no_open_carry',\n       'no_guns_in_k_through_twelve_schools', 'no_guns_at_demonstrations',\n       'no_guns_on_college_campuses',\n       'bar_concealed_carry_by_people_with_violent_misdemeanors',\n       'high_capacity_magazines_prohibited', 'dealer_lisence_required',\n       'asault_weapons_prohibited', 'secure_storage_child_access_laws',\n       'rejected_shoot_first_laws', 'red_flag_laws',\n       'background_check_or_purchase_permit',\n       'concealed_carry_permit_required', 'extreme_risk_law',\n       'missing_person_by_state', 'gun_ownership_rates_per_state',\n       'suicide_by_firearms', 'firearm_mortality_by_state_2022',\n       'school_shootings_by_state_2024',\n       'firearm_mortality_rate_children_one_to_nine_years_old',\n       'mortality_category'],\n      dtype='object')\n\n\n\n\nCode\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\npalette = {\n    \"Very Low\": \"#1c7416\", \n    \"Low\": \"#68bb59\", \n    \"Moderate\": \"#fab733\", \n    \"High\": \"#ff0000\", \n    \"Very High\": \"#c61a09\"\n}\n\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_stalkers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Stalkers Policy\", fontsize=14)\nplt.xlabel(\"Prohibition for Stalkers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3876184127.py:28: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"abusers_turn_in_gun_after_conviction\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"abusers_turn_in_gun_after_conviction\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Gun Surrender Requirement for Abusers\", fontsize=14)\nplt.xlabel(\"Gun Surrender Policy for Convicted Abusers\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3048638824.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"prohibition_for_domestic_abusers\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_domestic_abusers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Domestic Abusers\", fontsize=14)\nplt.xlabel(\"Prohibition for Domestic Abusers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3934125866.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"prohibition_for_convicted_domestic_abusers\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_convicted_domestic_abusers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Convicted Domestic Abusers\", fontsize=14)\nplt.xlabel(\"Prohibition for Convicted Domestic Abusers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3839386420.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"waiting_period\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"waiting_period\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Waiting Period Policy\", fontsize=14)\nplt.xlabel(\"Waiting Period Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1822672756.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"mental_health_in_background_check\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"mental_health_in_background_check\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Mental Health in Background Check Policy\", fontsize=14)\nplt.xlabel(\"Mental Health in Background Check Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/106397173.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"funding_for_violence_intervention\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"funding_for_violence_intervention\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Funding for Violence Intervention\", fontsize=14)\nplt.xlabel(\"Funding for Violence Intervention Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2652022068.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_purchase_after_violent_offense\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_purchase_after_violent_offense\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Purchase After Violent Offense Policy\", fontsize=14)\nplt.xlabel(\"No Purchase After Violent Offense Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2321388789.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"age_requirement\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"age_requirement\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Age Requirement Policy\", fontsize=14)\nplt.xlabel(\"Age Requirement Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1506350671.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"mental_illness_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"mentaI_illness_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Mental Illness Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Mental Illness Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1773839626.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"hate_crime_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"hate_crime_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Hate Crime Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Hate Crime Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/122475679.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"gun_removal_program\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"gun_removal_program\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Gun Removal Program Policy\", fontsize=14)\nplt.xlabel(\"Gun Removal Program Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3174775299.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"fugitive_from_justice_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"fugitive_from_justice_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Fugitive from Justice Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Fugitive from Justice Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1739788362.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"felony_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"felony prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Felony Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Felony Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2930775315.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"restraining_order_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"restraining_order_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Restraining Order Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Restraining Order Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1187753872.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_open_carry\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_open_carry\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Open Carry Policy\", fontsize=14)\nplt.xlabel(\"No Open Carry Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2415890846.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_guns_in_k_through_twelve_schools\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_in_k_through_twelve_schools\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns in K-12 Schools Policy\", fontsize=14)\nplt.xlabel(\"No Guns in K-12 Schools Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1104769495.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_guns_at_demonstrations\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_at_demonstrations\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns at Demonstrations Policy\", fontsize=14)\nplt.xlabel(\"No Guns at Demonstrations Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/85363419.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_guns_on_college_campuses\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_on_college_campuses\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns on College Campuses Policy\", fontsize=14)\nplt.xlabel(\"No Guns on College Campuses Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/738760413.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"bar_concealed_carry_by_people_with_violent_misdemeanors\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"bar_concealed_carry_by_people_with_violent_misdemeanors\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Concealed Carry Ban for People with Violent Misdemeanors\", fontsize=14)\nplt.xlabel(\"Ban on Concealed Carry for People with Violent Misdemeanors\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3479549589.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"high_capacity_magazines_prohibited\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"high_capacity_magazines_prohibited\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by High-Capacity Magazine Prohibition Policy\", fontsize=14)\nplt.xlabel(\"High-Capacity Magazines Prohibited Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1754383729.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"dealer_license_required\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"dealer_lisence_required\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Dealer License Requirement Policy\", fontsize=14)\nplt.xlabel(\"Dealer License Required Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/1598828547.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"assault_weapons_prohibited\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"asault_weapons_prohibited\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Assault Weapons Prohibition Policy\", fontsize=14)\nplt.xlabel(\"Assault Weapons Prohibited Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/4042303800.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"secure_storage_child_access_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"secure_storage_child_access_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Secure Storage & Child Access Laws\", fontsize=14)\nplt.xlabel(\"Secure Storage & Child Access Laws\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3415678296.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"rejected_shoot_first_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"rejected_shoot_first_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Rejected Shoot First Laws\", fontsize=14)\nplt.xlabel(\"Rejected Shoot First Laws Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/234866186.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"red_flag_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"red_flag_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Red Flag Laws\", fontsize=14)\nplt.xlabel(\"Red Flag Laws Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2769732189.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"background_check_or_purchase_permit\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"background_check_or_purchase_permit\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Background Check or Purchase Permit Policy\", fontsize=14)\nplt.xlabel(\"Background Check or Purchase Permit Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2676269926.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"concealed_carry_permit_required\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"concealed_carry_permit_required\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Concealed Carry Permit Requirement Policy\", fontsize=14)\nplt.xlabel(\"Concealed Carry Permit Required Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/3001951385.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"extreme_risk_law\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"extreme_risk_law\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Extreme Risk Law Policy\", fontsize=14)\nplt.xlabel(\"Extreme Risk Law Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/451092298.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"total_abortion_ban\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"total_abortion_ban\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Total Abortion Ban Policy\", fontsize=14)\nplt.xlabel(\"Total Abortion Ban Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2202/2161908046.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument."
  },
  {
    "objectID": "eda.html",
    "href": "eda.html",
    "title": "Binary Vals",
    "section": "",
    "text": "Code\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Load data\nmerged_data = pd.read_csv(\"data/merged_data.csv\")\n\n# Define bins and labels for firearm mortality\nbins = [0, 10, 15, 20, 25, merged_data['firearm_mortality_by_state_2022'].max()]\nlabels = [\"Very Low\", \"Low\", \"Moderate\", \"High\", \"Very High\"]\n\n# Categorize firearm mortality rates\nmerged_data['mortality_category'] = pd.cut(\n    merged_data['firearm_mortality_by_state_2022'], bins=bins, labels=labels\n)\n\n# Define custom color palette\npalette = {\n    \"Very Low\": \"#1c7416\", \n    \"Low\": \"#68bb59\", \n    \"Moderate\": \"#fab733\", \n    \"High\": \"#ff0000\", \n    \"Very High\": \"#c61a09\"\n}\n\n# Create box plot\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='drug_overdose_mortality_rate', \n    palette=palette\n)\n\n# Format plot to match the reference image\nplt.title(\"Drug Overdose Mortality Rate by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Drug Overdose Mortality Rate (per 100,000)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2790066865.py:28: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='state_ranking_in_mental_health_in_adults', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"State Ranking in Mental Health in Adults by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"State Ranking in Mental Health (Lower is Better)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2925012457.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='domestic_violence_shelters', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Number of Domestic Violence Shelters by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Domestic Violence Shelters\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/565574178.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='unemployment_rate', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Unemployment Rate by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Unemployment Rate (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/666588960.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='labor_participation_women_percentage', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Labor Participation of Women by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Labor Participation of Women (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/4226980556.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='missing_person_by_state', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Number of Missing Persons by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Missing Persons\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2250685414.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='gun_ownership_rates_per_state', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Gun Ownership Rates by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Gun Ownership Rate (%)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/4035193299.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='suicide_by_firearms', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Suicides by Firearms by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Number of Suicides by Firearms\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2903196679.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='firearm_mortality_rate_children_one_to_nine_years_old', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rate (Ages 1-9) by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"Firearm Mortality Rate (Ages 1-9) per 100,000\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/422796669.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='dv_people_to_shelter', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Domestic Violence Survivors per Shelter by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"DV Survivors per Shelter\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/176810535.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nplt.figure(figsize=(10, 6))\nsns.boxplot(\n    data=merged_data, \n    x='mortality_category', \n    y='dv_spending_per_person', \n    palette=palette,\n    width=0.6\n)\n\n# Format plot\nplt.title(\"Domestic Violence Spending per Person by Firearm Mortality Category\", fontsize=14)\nplt.xlabel(\"Firearm Mortality Category\", fontsize=12)\nplt.ylabel(\"DV Spending per Person (USD)\", fontsize=12)\nplt.xticks(rotation=45, fontsize=10)\nplt.yticks(fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1832011546.py:2: FutureWarning:\n\n\n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nprint(merged_data.columns)\n\n\nIndex(['State', 'drug_overdose_mortality_rate', 'total_abortion_ban',\n       'abortion_protectiveness', 'access_to_mental_health_care_ranking',\n       'state_ranking_in_mental_health_in_youth',\n       'state_ranking_in_mental_health_in_adults',\n       'domestic_violence_shelters', 'dv_people_to_shelter', 'population',\n       'dv_spending_per_person', 'domestic_violence_spending_by_state',\n       'unemployment_rate', 'labor_participation_women_percentage',\n       'prohibition_for_stalkers', 'abusers_turn_in_gun_after_conviction',\n       'prohibition_for_domestic_abusers',\n       'prohibition_for_convicted_domestic_abusers', 'waiting_period',\n       'mental_health_in_background_check',\n       'funding_for_violence_intervention',\n       'no_purchase_after_violent_offense', 'age_requirement',\n       'mentaI_illness_prohibitor', 'hate_crime_prohibitor',\n       'gun_removal_program', 'fugitive_from_justice_prohibitor',\n       'felony prohibitor', 'restraining_order_prohibitor', 'no_open_carry',\n       'no_guns_in_k_through_twelve_schools', 'no_guns_at_demonstrations',\n       'no_guns_on_college_campuses',\n       'bar_concealed_carry_by_people_with_violent_misdemeanors',\n       'high_capacity_magazines_prohibited', 'dealer_lisence_required',\n       'asault_weapons_prohibited', 'secure_storage_child_access_laws',\n       'rejected_shoot_first_laws', 'red_flag_laws',\n       'background_check_or_purchase_permit',\n       'concealed_carry_permit_required', 'extreme_risk_law',\n       'missing_person_by_state', 'gun_ownership_rates_per_state',\n       'suicide_by_firearms', 'firearm_mortality_by_state_2022',\n       'school_shootings_by_state_2024',\n       'firearm_mortality_rate_children_one_to_nine_years_old',\n       'mortality_category'],\n      dtype='object')\n\n\n\n\nCode\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\npalette = {\n    \"Very Low\": \"#1c7416\", \n    \"Low\": \"#68bb59\", \n    \"Moderate\": \"#fab733\", \n    \"High\": \"#ff0000\", \n    \"Very High\": \"#c61a09\"\n}\n\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_stalkers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Stalkers Policy\", fontsize=14)\nplt.xlabel(\"Prohibition for Stalkers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3876184127.py:28: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"abusers_turn_in_gun_after_conviction\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"abusers_turn_in_gun_after_conviction\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Gun Surrender Requirement for Abusers\", fontsize=14)\nplt.xlabel(\"Gun Surrender Policy for Convicted Abusers\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3048638824.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"prohibition_for_domestic_abusers\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_domestic_abusers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Domestic Abusers\", fontsize=14)\nplt.xlabel(\"Prohibition for Domestic Abusers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3934125866.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"prohibition_for_convicted_domestic_abusers\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"prohibition_for_convicted_domestic_abusers\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Prohibition for Convicted Domestic Abusers\", fontsize=14)\nplt.xlabel(\"Prohibition for Convicted Domestic Abusers Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3839386420.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"waiting_period\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"waiting_period\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Waiting Period Policy\", fontsize=14)\nplt.xlabel(\"Waiting Period Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1822672756.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"mental_health_in_background_check\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"mental_health_in_background_check\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Mental Health in Background Check Policy\", fontsize=14)\nplt.xlabel(\"Mental Health in Background Check Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/106397173.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"funding_for_violence_intervention\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"funding_for_violence_intervention\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Funding for Violence Intervention\", fontsize=14)\nplt.xlabel(\"Funding for Violence Intervention Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2652022068.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_purchase_after_violent_offense\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_purchase_after_violent_offense\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Purchase After Violent Offense Policy\", fontsize=14)\nplt.xlabel(\"No Purchase After Violent Offense Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2321388789.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"age_requirement\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"age_requirement\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Age Requirement Policy\", fontsize=14)\nplt.xlabel(\"Age Requirement Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1506350671.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"mental_illness_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"mentaI_illness_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Mental Illness Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Mental Illness Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1773839626.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"hate_crime_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"hate_crime_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Hate Crime Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Hate Crime Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/122475679.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"gun_removal_program\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"gun_removal_program\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Gun Removal Program Policy\", fontsize=14)\nplt.xlabel(\"Gun Removal Program Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3174775299.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"fugitive_from_justice_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"fugitive_from_justice_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Fugitive from Justice Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Fugitive from Justice Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1739788362.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"felony_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"felony prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Felony Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Felony Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2930775315.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"restraining_order_prohibitor\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"restraining_order_prohibitor\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Restraining Order Prohibitor Policy\", fontsize=14)\nplt.xlabel(\"Restraining Order Prohibitor Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1187753872.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_open_carry\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_open_carry\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Open Carry Policy\", fontsize=14)\nplt.xlabel(\"No Open Carry Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2415890846.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_guns_in_k_through_twelve_schools\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_in_k_through_twelve_schools\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns in K-12 Schools Policy\", fontsize=14)\nplt.xlabel(\"No Guns in K-12 Schools Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1104769495.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_guns_at_demonstrations\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_at_demonstrations\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns at Demonstrations Policy\", fontsize=14)\nplt.xlabel(\"No Guns at Demonstrations Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/85363419.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"no_guns_on_college_campuses\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"no_guns_on_college_campuses\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by No Guns on College Campuses Policy\", fontsize=14)\nplt.xlabel(\"No Guns on College Campuses Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/738760413.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"bar_concealed_carry_by_people_with_violent_misdemeanors\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"bar_concealed_carry_by_people_with_violent_misdemeanors\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Concealed Carry Ban for People with Violent Misdemeanors\", fontsize=14)\nplt.xlabel(\"Ban on Concealed Carry for People with Violent Misdemeanors\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3479549589.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"high_capacity_magazines_prohibited\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"high_capacity_magazines_prohibited\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by High-Capacity Magazine Prohibition Policy\", fontsize=14)\nplt.xlabel(\"High-Capacity Magazines Prohibited Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1754383729.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"dealer_license_required\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"dealer_lisence_required\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Dealer License Requirement Policy\", fontsize=14)\nplt.xlabel(\"Dealer License Required Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/1598828547.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"assault_weapons_prohibited\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"asault_weapons_prohibited\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Assault Weapons Prohibition Policy\", fontsize=14)\nplt.xlabel(\"Assault Weapons Prohibited Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/4042303800.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"secure_storage_child_access_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"secure_storage_child_access_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Secure Storage & Child Access Laws\", fontsize=14)\nplt.xlabel(\"Secure Storage & Child Access Laws\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3415678296.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"rejected_shoot_first_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"rejected_shoot_first_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Rejected Shoot First Laws\", fontsize=14)\nplt.xlabel(\"Rejected Shoot First Laws Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/234866186.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"red_flag_laws\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"red_flag_laws\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Red Flag Laws\", fontsize=14)\nplt.xlabel(\"Red Flag Laws Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2769732189.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"background_check_or_purchase_permit\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"background_check_or_purchase_permit\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Background Check or Purchase Permit Policy\", fontsize=14)\nplt.xlabel(\"Background Check or Purchase Permit Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2676269926.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"concealed_carry_permit_required\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"concealed_carry_permit_required\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Concealed Carry Permit Requirement Policy\", fontsize=14)\nplt.xlabel(\"Concealed Carry Permit Required Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/3001951385.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"extreme_risk_law\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"extreme_risk_law\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Extreme Risk Law Policy\", fontsize=14)\nplt.xlabel(\"Extreme Risk Law Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/451092298.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Create the stacked bar plot for \"total_abortion_ban\"\nplt.figure(figsize=(10, 6))\nsns.histplot(\n    data=merged_data, \n    x=\"total_abortion_ban\", \n    hue=\"mortality_category\", \n    multiple=\"fill\", \n    shrink=0.8, \n    palette=palette\n)\n\n# Format plot\nplt.title(\"Firearm Mortality Rates by Total Abortion Ban Policy\", fontsize=14)\nplt.xlabel(\"Total Abortion Ban Policy\", fontsize=12)\nplt.ylabel(\"Proportion\", fontsize=12)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.legend(title=\"Firearm Mortality Level\", fontsize=10)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show plot\nplt.show()\n\n\n/var/folders/gf/ppk7yck96gx15bzg93b7fysm0000gn/T/ipykernel_2900/2161908046.py:18: UserWarning:\n\nNo artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument."
  }
]